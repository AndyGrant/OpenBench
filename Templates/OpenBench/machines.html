{% extends "OpenBench/base.html" %}

{% load mytags %}

{% block content %}

    <table>

        <tr>
            <th>ID</th>
            <th>USER</th>
            <th>SYSTEM</th>
            <th>UPDATED</th>
            <th>WORKLOAD</th>
            <th>THREADS</th>
            <th>MNPS</th>
        </tr>

        {% for machine in machines %}
            <tr>
                <td class="numeric">{{machine.id}}</td>
                <td>{{machine.owner}}</td>
                <td>{{machine.osname}}</td>
                <td id="date-obj-{{forloop.counter}}">{{machine.updated|date:'Y-m-d H:i'}}</td>
                <script>
                    var dateobj = document.getElementById("date-obj-{{forloop.counter}}")
                    dateobj.innerHTML = new Date(dateobj.innerHTML + "+00:00").toLocaleString();
                </script>
                <td> <a href="/test/{{machine.workload.id}}">{{machine.workload.dev.name}}</a></td>
                <td class="numeric">{{machine.threads}}</td>
                <td class="numeric">{{machine.mnps|twoDigitPrecision}}</td>
            </tr>
        {% endfor %}

    </table>

{% endblock %}
